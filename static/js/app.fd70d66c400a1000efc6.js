webpackJsonp([1],{"/3Pv":function(t,i){},ANje:function(t,i){},E3az:function(t,i){},I49H:function(t,i){},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("7+uW"),o={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]};var n=e("VU/8")({name:"app"},o,!1,function(t){e("t+Y5")},null,null).exports,r=e("/ocq"),a=e("pFYg"),c=e.n(a),l=e("mvHQ"),h=e.n(l),u=e("5dBV"),d=e.n(u),g=e("Gu7T"),f=e.n(g),m=e("woOf"),p=e.n(m),v=e("//Fk"),C=e.n(v),w=e("bOdI"),b=e.n(w),_=e("5QVw"),k=e.n(_),y=1104,T=80,L=472,R=80,S=512,P=20,M=70,I=26,x=34,$=/(\d+),\s*(\d+),\s*(\d+),\s*(\d+)/,B=k()("x"),D=k()("y"),E=!1,A={},O=void 0,N={props:["width","color","imgUrl","isRender","initColor","callback"],data:function(){var t;return t={count:0,colors:[]},b()(t,B,void 0),b()(t,D,void 0),b()(t,"queue",void 0),b()(t,"timer",null),b()(t,"padding",void 0),b()(t,"target",null),b()(t,"isAction",!0),b()(t,"cw",0),t},created:function(){null==this.width&&(this.width=y),this.scale=this.width/y,this.lineWidth=this.scale*T,this.Rmax=this.width/2,this.Rmin=L*this.scale,this.circleW=R*this.scale,this.circleR=this.circleW/2,this.radius=S*this.scale,this.cw=I-this.circleW},mounted:function(){var t=this;this.padding=this.getStyle(this.$refs.picker,"padding");var i=this.$refs.img;this.queue=new C.a(function(t,e){i.onload=t,i.onerror=e}),i.src=this.imgUrl;var e=this.width,s=this.width,o=this.$refs.canv;this.ctx=o.getContext("2d"),this.setStyle(i,{width:e,height:s}),this.setStyle(o,{width:e,height:s}),this.setStyle(this.$refs.picker,{width:e,height:s}),this.setStyle(this.$refs.mask,{width:2*this.radius-M-this.lineWidth,height:2*this.radius-M-this.lineWidth}),this.normalCircle(),p()(o,{width:e,height:s}),this.queue=this.queue.then(function(o){return t.ctx.drawImage(i,0,0,e,s)}),this.setCircleTopLeft({x:this.Rmax-this.circleR,y:0}),this.$refs.picker.addEventListener("touchmove",this.moveCircle,!0),this.$refs.picker.addEventListener("touchend",this.moveEnd,!0),this.$refs.picker.addEventListener("touchstart",this.moveStart,!0)},methods:{moveCircle:function(t){var i=t.target;if(!(t.targetTouches.length>1||i===this.$refs.mask)){!this.isRender&&this.$emit("update:isRender",!0),i===this.$refs.circle&&(i=this.$refs.canv);var e=t.targetTouches[0];this[B]=e.pageX-this.getLeft(i),this[D]=e.pageY-this.getTop(i),this.target=i,this.isAction&&this.action()}},moveEnd:function(t){var i=t.target;t.targetTouches.length>1||i===this.$refs.mask||(this.isRender&&(this.normalCircle(),this.setStyle(this.$refs.circle,{top:this.getStyle(this.$refs.circle,"top")+(x-I)/2,left:this.getStyle(this.$refs.circle,"left")+(x-I)/2})),this.$emit("update:isRender",!1),this.isEqualColor(O,this.color)||null==O||("function"==typeof this.callback&&this.callback(this.color),O=void 0),window.cancelAnimationFrame(this.timer),this.isAction=!0)},moveStart:function(t){O=this.color;var i,e,s=t.target;s!==this.$refs.mask&&s!==this.$refs.circle&&(this.cw=I-this.circleW,this.normalCircle(),this.setStyle(this.$refs.circle,{top:this.getStyle(this.$refs.circle,"top")+(x-I)/2,left:this.getStyle(this.$refs.circle,"left")+(x-I)/2}),i=t.targetTouches[0],e=this.getTargetPoint(i.pageX-this.getLeft(s),i.pageY-this.getTop(s),s),this.setCircleTopLeft(e))},action:function(){this.bigCircle(),this.timer=window.requestAnimationFrame(this.action.bind(this)),this.isAction=!1,this.setCircleTopLeft(this.getTargetPoint(this[B],this[D],this.target))},getTargetPoint:function(t,i,e){var s,o,n={},r=e===this.$refs.picker?this.padding:0,a=this.getStyle(e,"width")/2+r;if(o=i-(this.getStyle(e,"height")/2+r),0!==(s=t-a)){var c=Math.atan(o/s);n.x=(s>0?Math.abs(this.radius*Math.cos(c)):-Math.abs(this.radius*Math.cos(c)))+this.radius,n.y=(o>0?Math.abs(this.radius*Math.sin(c)):-Math.abs(this.radius*Math.sin(c)))+this.radius}else n={x:this.radius,y:this.radius+(o>0?this.radius:-this.radius)};return n},getInitPoint:function(t){var i=this;console.time("initColor");var e="Don't have this initColor: "+t;if(null==t)return console.error(e);this.queue=this.queue.then(function(t){if(E){var e=i.RGBtoHSV.apply(i,f()(i.initColor.match($).splice(1,3))),s=-Math.PI/180*e[0],o=i.radius*Math.cos(s)+i.radius,n=i.radius*Math.sin(s)+i.radius;i.setCircleTopLeft({x:o,y:n}),i.queue.then(function(t){return i.commitColor(i.initColor)}),console.timeEnd("initColor")}}).catch(function(t){i.initError(t),console.error(t.message),i.deviceLog("initError",t.message)})},initError:function(t){},commitColor:function(t){console.log("%c commitColor: "+t,"color: "+t),this.deviceLog("commitColor",t),this.$emit("update:color",t)},getTop:function(t){var i=t.getBoundingClientRect().top;return this.deviceLog("getTop",i),this.deviceLog("offsetParennt",c()(t.offsetParent)),this.deviceLog("getBoundingClientRect",c()(t.getBoundingClientRect)),"function"==typeof t.getBoundingClientRect&&this.deviceLog("offsetTop",t.getBoundingClientRect().top==i),console.log("getBoundingClientRect",t.getBoundingClientRect().top),i},getLeft:function(t){return t.getBoundingClientRect().left},setStyle:function(t,i){for(var e in i)null!=i[e]&&(t.style[e]=i[e]+"px")},getColor:function(t){return"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+Math.round(t[3]/255*100)/100+")"},setCircleTopLeft:function(t){var i=this,e=[t.x+this.circleR,t.y+this.circleR];this.deviceLog("canavsXY",e),this.setStyle(this.$refs.circle,{top:t.y+this.padding-this.cw/2,left:t.x+this.padding-this.cw/2}),this.queue=this.queue.then(function(s){t.x=Math.round(t.x),t.y=Math.round(t.y);var o,n=A[t.x+"-"+t.y];null==n&&(A[t.x+"-"+t.y]=n=i.getColor((o=i.ctx).getImageData.apply(o,e.concat([1,1])).data));i.commitColor(n)})},getStyle:function(t,i){return d()(window.getComputedStyle(t,null)[i])},isEqualColor:function(t,i){if(null==t||null==i)return!1;var e=!0;return t=t.match($).splice(1,4),i=i.match($).splice(1,4),t.forEach(function(t,s){+t!=+i[s]&&(e=!1)}),e},debounce:function(t,i,e){var s=void 0,o=void 0,n=void 0,r=void 0,a=void 0,c=new Date,l=function l(){var h=c-r;h<i&&h>=0?s=setTimeout(l,i-h):(s=null,e||(a=t.apply(n,o),s||(n=o=null)))};return function(){n=this,o=arguments,r=new Date;var c=e&&!s;return s||(s=setTimeout(l,i)),c&&(a=t.apply(n,o),n=o=null),a}},normalCircle:function(){this.setStyle(this.$refs.circle,{width:I,height:I})},bigCircle:function(){this.cw=x-this.circleW,this.setStyle(this.$refs.circle,{width:x,height:x})},colorComp:function(t,i,e,s,o,n){var r=t-s,a=i-o,c=e-n;return Math.sqrt(r*r+a*a+c*c)<P},RGBtoHSV:function(t,i,e){var s,o,n,r,a=void 0,c=void 0;return s=Math.min.apply(null,[t,i,e]),r=o=Math.max.apply(null,[t,i,e]),n=o-s,0==o?(c=0,void(a=-1)):(c=n/o,a=t==o?(i-e)/n:i==o?2+(e-t)/n:4+(t-i)/n,(a*=60)<0&&(a+=360),[a,c,r])},HSVtoRGB:function(t,i,e){var s,o,n,r,a,c=void 0,l=void 0,h=void 0;if(0!=i){switch(n=e*(1-i),r=e*(1-i*(o=(t/=60)-(s=Math.floor(t)))),a=e*(1-i*(1-o)),s){case 0:c=e,l=a,h=n;break;case 1:c=r,l=e,h=n;break;case 2:c=n,l=e,h=a;break;case 3:c=n,l=r,h=e;break;case 4:c=a,l=n,h=e;break;default:c=e,l=n,h=r}return[c,l,h]}c=l=h=e},deviceLog:function(){var t=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],e=!(arguments.length<=2?void 0:arguments[2]);window.hilink&&"function"==typeof window.hilink.printLog&&window.hilink.printLogDebug(!!e,"H5_"+t,h()(i))}},watch:{initColor:function(t,i){this.isEqualColor(t,this.color)||(console.log("%c initColor: "+t,"color: "+t),this.deviceLog("initColor",t),E=!0,this.cw=I-this.circleW,this.getInitPoint(t))}}},H={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"colorPicker"},[i("div",{ref:"picker",staticClass:"picker"},[i("canvas",{ref:"canv",staticClass:"canv"}),this._v(" "),i("img",{ref:"img",staticClass:"img",attrs:{src:this.imgUrl,alt:"load error"}}),this._v(" "),i("div",{ref:"mask",staticClass:"mask center"},[this._t("mask")],2),this._v(" "),i("div",{ref:"circle",staticClass:"circle",style:{backgroundColor:this.color}})])])},staticRenderFns:[]};var W={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"bottomMenu"}},[e("ul",{staticClass:"menuList"},t._l(t.bottomList.data,function(i,s){return e("li",{style:{backgroundImage:i.border?"url(./static/img/icon_lamp_mode_pre.png)":"url(./static/img/icon_lamp_normal.png)"}},[e("div",{class:[{button:t.bgActive&&s==t.ind}],style:{opacity:t.bottomList.switch&&!t.bottomList.isSwitch&&s||i.forbid?.3:1,backgroundImage:"url("+(i.src.indexOf("/")>0?i.src:"./static/img/"+i.src)+")"},on:{touchstart:function(i){i.stopPropagation(),i.preventDefault(),t.changeBg(s)},touchend:function(i){i.stopPropagation(),i.preventDefault(),t.clickEvent(s)}}}),t._v(" "),e("p",{class:[{blueArrow:i.arrow}],style:{opacity:t.bottomList.switch&&!t.bottomList.isSwitch&&s||i.forbid?.3:1},on:{touchend:function(i){i.stopPropagation(),i.preventDefault(),t.clickEvent(s)}}},[t._v(t._s(i.word))]),t._v(" "),t._t("slot"+s)],2)}))])},staticRenderFns:[]};var q={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"selectlist"},[t.isListShow?e("div",{staticClass:"selectFixedLayer",on:{click:function(i){i.stopPropagation(),i.preventDefault(),t.chooseIndex("return")}}}):t._e(),t._v(" "),t.isListShow?e("transition",{attrs:{name:"choose-box"}},[e("div",{staticClass:"selectContainerBox"},[e("ul",{staticClass:"selectContainer"},t._l(t.selectList,function(i,s){return e("li",{key:s,on:{click:function(i){i.stopPropagation(),i.preventDefault(),t.chooseIndex(s)}}},[t._v("\n                  "+t._s(i)+"\n              ")])}))])]):t._e()],1)},staticRenderFns:[]};var V={name:"lightPicker",data:function(){return{}},props:["lightHeight"],computed:{computedLight:function(){return this.lightHeight<=70?this.lightHeight-1:100==this.lightHeight?100:this.lightHeight-2.5}},methods:{getTop:function(t){var i=t.offsetTop;return null!=t.offsetParent&&(i+=this.getTop(t.offsetParent)),i},changeLight:function(t){var i=t.targetTouches[0].pageY,e=this.$refs.container,s=this.$refs.container.offsetHeight,o=this.getTop(e),n=parseInt((o+s/2-20-i)/s*100);n>=100?n=100:n<=10&&(n=10);var r=10*Math.ceil(n/10);this.$emit("update:lightHeight",r)},submitLight:function(){this.$emit("submitLight")}}},F={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"lightPicker",on:{touchstart:function(i){return i.stopPropagation(),t.changeLight(i)},touchmove:function(i){return i.stopPropagation(),t.changeLight(i)},touchend:function(i){return i.stopPropagation(),t.submitLight(i)}}},[e("div",{ref:"container",staticClass:"container"},[e("div",{staticClass:"lightOff"},t._l(10,function(t){return e("div",{style:{backgroundImage:"url(./static/img/light/image_lamp_light_0"+(11-t>=10?11-t:"0"+(11-t))+"_press.png)"}})})),t._v(" "),e("div",{staticClass:"lightOnBox",style:{height:t.computedLight+"%"}},[e("div",{staticClass:"lightOn"},t._l(10,function(t){return e("div",{style:{backgroundImage:"url(./static/img/light/image_lamp_light_0"+(11-t>=10?11-t:"0"+(11-t))+".png)"}})}))])])])},staticRenderFns:[]};var j={name:"cctPicker",data:function(){return{pos:[],radian:0,circleColor:""}},props:["cctArea","bgColor","colorTemperature","initCct"],mounted:function(){this.initPosition(this.initCct,!0)},watch:{initCct:function(t){this.initPosition(t)}},methods:{initPosition:function(t,i){(t!==this.colorTemperature||i)&&(this.colorTemperature=t,this.changeDadian(!0))},changeDadian:function(t){this.radian=270-(this.colorTemperature-this.cctArea[0])/(this.cctArea[1]-this.cctArea[0])*180,t&&this.changePos(),this.getBgColor()},lightColorTouch:function(t){var i=this.$refs.bigR.offsetWidth/2,e=this.$refs.smalR.offsetWidth/2,s=[(t=event||window.event).targetTouches[0].clientX,t.targetTouches[0].clientY],o=[t.currentTarget.offsetLeft+t.currentTarget.offsetWidth/2,t.currentTarget.offsetTop+t.currentTarget.offsetHeight/2],n=Math.atan((s[1]-o[1])/(s[0]-o[0]))/Math.PI*180;if(t.targetTouches[0].clientX>=t.currentTarget.offsetLeft+t.currentTarget.offsetWidth/2){this.pos=[i+(i-7)*Math.cos(n*Math.PI/180)-e,i+(i-7)*Math.sin(n*Math.PI/180)-e];var r=parseInt((n+90)/180*(this.cctArea[1]-this.cctArea[0])+this.cctArea[0])}else{this.pos=[i-(i-7)*Math.cos(n*Math.PI/180)-e,i-(i-7)*Math.sin(n*Math.PI/180)-e];r=parseInt((90-n)/180*(this.cctArea[1]-this.cctArea[0])+this.cctArea[0])}this.$emit("update:colorTemperature",r),this.changeDadian()},getBgColor:function(){var t=(Math.sin(this.radian/180*Math.PI)+1)/2,i="#ff"+parseInt(254-43*t).toString(16)+parseInt(254-138*t).toString(16);this.circleColor=i},commitCct:function(){this.changeDadian(),this.$emit("changeCct")},changePos:function(){var t=this.$refs.bigR.offsetWidth/2,i=this.$refs.smalR.offsetWidth/2;this.pos=[t+(t-7)*Math.cos(this.radian*Math.PI/180)-i,t+(t-7)*Math.sin(this.radian*Math.PI/180)-i]}}},U={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"cctPicker"},[e("div",{ref:"bigR",staticClass:"lightColor",on:{touchstart:t.lightColorTouch,touchmove:t.lightColorTouch,touchend:function(i){return i.target!==i.currentTarget?null:t.commitCct(i)}}},[e("div",{staticClass:"innerBox",style:{backgroundColor:t.bgColor},on:{touchstart:function(t){t.stopPropagation()},touchmove:function(t){t.stopPropagation()}}}),t._v(" "),e("div",{ref:"smalR",staticClass:"touchBtn",style:{left:t.pos[0]+"px",top:t.pos[1]+"px",backgroundColor:t.circleColor},on:{touchend:function(i){return i.target!==i.currentTarget?null:t.commitCct(i)}}})])])},staticRenderFns:[]};var Y={name:"Light",components:{ColorPicker:e("VU/8")(N,H,!1,function(t){e("I49H")},"data-v-087c22e9",null).exports,BottomMenu:e("VU/8")({name:"bottom-menu",props:["bottomList"],data:function(){return{bgActive:!1,ind:null,borderColor:[]}},created:function(){for(var t=0;t<this.bottomList.data.length;t++)this.borderColor[t]="rgba(0,0,0,.05)"},methods:{changeBg:function(t){this.bgActive=!0,this.ind=t},clickEvent:function(t){this.bgActive=!1,this.ind=t,this.bottomList.switch&&!this.bottomList.isSwitch&&t||this.bottomList.data[t].forbid||this.$emit("buttonsClick",t)}}},W,!1,function(t){e("/3Pv")},"data-v-7164bc88",null).exports,SelectList:e("VU/8")({name:"selectlist",props:["isListShow","selectList"],data:function(){return{}},mounted:function(){},methods:{chooseIndex:function(t){this.$emit("chooseIndex",t)}}},q,!1,function(t){e("iycm")},"data-v-386a286a",null).exports,LightPicker:e("VU/8")(V,F,!1,function(t){e("mDVo")},"data-v-555ccc1b",null).exports,CctPicker:e("VU/8")(j,U,!1,function(t){e("E3az")},"data-v-797db000",null).exports},data:function(){return{color:"rgba(253, 129, 126, 1)",initColor:"rgba(180, 226, 123, 1)",mode:0,switchOn:1,brightness:0,red:101,green:132,blue:251,start:0,end:0,isColor:1,initCct:2300,cct:2300,faultDetection:null,brightnessPercent:10,isModeShow:0,titleStatus:"已关闭",isRender:!1,colorList:["126,157,233","126,157,233","161,132,191","103,143,187","208,140,186","235,190,134","207,112,157","122,179,216","136,103,162","127,192,207","149,203,139"],modeColorList:["253,171,119","100,133,251","222,85,156","69,188,237","","140,110,226","139,228,132","253,140,124","253,140,124",""],reportColorList:["255,97,0","0,0,255","255,112,169","84,214,255","","138,43,226","0,255,0","255,192,203","255,255,255",""],modeImgList:["icon_lamp_visitors.png","icon_lamp_rest.png","icon_lamp_viewing.png","icon_lamp_eating.png","icon_lamp_symphony.png","icon_lamp_romantic.png","icon_lamp_jobs.png","icon_lamp_sleep.png","icon_lamp_read.png","icon_lamp_sweep.png"],modeList:["自定义","会客","休闲","观影","用餐","变幻","浪漫","工作","睡眠","阅读","清扫"],modeSrcList:["icon_lamp_customize_nor.png","icon_lamp_visitors_nor.png","icon_lamp_rest_nor.png","icon_lamp_viewing_nor.png","icon_lamp_eating_nor.png","icon_lamp_symphony_nor.png","icon_lamp_romantic_nor.png","icon_lamp_jobs_nor.png","icon_lamp_sleep_nor.png","icon_lamp_read_nor.png","icon_lamp_sweep_nor.png"]}},computed:{bottomList:function(){return{data:[{src:this.switchOn?"icon_Power_off.png":"icon_Power_on.png",word:this.switchOn?"关闭":"开启"},{src:this.modeSrcList[this.mode],word:this.modeList[this.mode],arrow:!0,forbid:!this.switchOn},{src:"icon_timing.png",word:"定时"},{src:"icon_countdown.png",word:"倒计时"}]}},brightnessColor:function(){var t=this.calcColor(this.brightnessPercent);return this.changeTitleColor(t),t}},watch:{color:function(t){this.isColor&&0===this.mode&&this.changeTitleColor()}},mounted:function(){this.getData(),this.getDevInfoAll(),this.setTitleStatus()},methods:{colorPickerCallback:function(t){var i=this.transColor(t);console.log(i),this.red=i[0],this.green=i[1],this.blue=i[2],this.setColor()},buttonsClick:function(t){switch(t){case 0:this.setSwitch();break;case 1:this.isModeShow=1;break;case 2:this.setTimer();break;case 3:this.setDelay()}},chooseMode:function(t){if(this.isModeShow=0,"return"!==t){if(this.mode=t,this.mode&&(this.isColor=1),this.mode){var i=this.transColor(this.colorList[this.mode]),e=this.arrToColor(i);this.changeTitleColor(e)}this.setTitleStatus(),this.setMode(t)}},switchMode:function(){if(this.isColor=!this.isColor,this.isColor)this.changeTitleColor();else{var t=this.calcColor(this.brightnessPercent);this.changeTitleColor(t)}},calcColor:function(t){var i=t/100;return"#"+parseInt(228+8*i).toString(16)+parseInt(181+22*i).toString(16)+parseInt(92+48*i).toString(16)},changeCct:function(){this.setCct()},submitLight:function(){this.brightness=parseInt(this.brightnessPercent/100*255),console.log(this.brightness),this.setBrightness()},setCct:function(){var t={cct:{colorTemperature:this.cct}};window.hilink.setDeviceInfo("0",h()(t),"light.setCctResult")},setTimer:function(){window.hilink.jumpTo("com.huawei.smarthome.timerPage","light.timerResult")},setDelay:function(){window.hilink.timerDiag("com.huawei.smarthome.delayDig","light.delayResult")},setDataBySid:function(t){switch(t.sid){case"switch":t.data&&(this.switchOn=t.data.on,this.changeTitleColor(),this.setTitleStatus(),this.colorTemperature=2300,this.switchOn||(this.isModeShow=0));break;case"brightness":t.data&&(this.brightness=t.data.brightness,this.brightnessPercent=10*Math.ceil(t.data.brightness/255*100/10));break;case"colour":if(t.data){if(255===t.data.red&&255===t.data.green&&255===t.data.blue)return;this.red=t.data.red,this.green=t.data.green,this.blue=t.data.blue,this.isRender||(this.initColor=this.transColor([this.red,this.green,this.blue]))}break;case"mode":if(t.data){this.mode=t.data.mode,this.setTitleStatus();var i=this.transColor(this.colorList[this.mode]),e=this.arrToColor(i);if(0===this.mode)return;this.changeTitleColor(e)}break;case"cct":t.data&&(this.initCct=t.data.colorTemperature);break;case"relativeDelay":t.data&&(this.start=t.data.start||0,this.end=t.data.end||0)}},getData:function(){var t=this;window.deviceEventCallback=function(i){console.log("deviceEventCallback:",i);var e=t.jsonParse(i);t.setDataBySid(e)},window.light={getDevInfoAllResult:function(i){console.log("getDevInfoAllResult:",i);var e=t.jsonParse(i);if(e.services.length>0)for(var s=0;s<e.services.length;s++){var o=e.services[s];t.setDataBySid(o)}},setSwitchResult:function(i){t.alertError(i,"setSwitchResult")},setModeResult:function(i){t.alertError(i,"setModeResult")},setBrightnessResult:function(i){t.alertError(i,"setBrightnessResult")},setColorResult:function(i){t.alertError(i,"setColorResultResult")},setTitleStatusResult:function(i){t.alertError(i,"setTitleStatusResult")},titleBarColorResult:function(i){t.alertError(i,"titleBarColorResult")},timerResult:function(i){t.alertError(i,"timerResult")},delayResult:function(i){t.alertError(i,"delayResult")},setCctResult:function(i){t.alertError(i,"setCctResult")}}},jsonParse:function(t){try{var i=JSON.parse(t)}catch(s){var e=t.replace(/:"{/g,":{");e=(e=(e=e.replace(/}",/g,"},")).replace(/}"}/g,"}}")).replace(/\\/g,"");i=JSON.parse(e)}return i},getDevInfoAll:function(){window.hilink.getDevCacheAll("0","","light.getDevInfoAllResult")},setSwitch:function(){var t={switch:{on:Number(!this.switchOn)}};window.hilink.setDeviceInfo("0",h()(t),"light.setSwitchResult")},setMode:function(t){var i={mode:{mode:t}};window.hilink.setDeviceInfo("0",h()(i),"light.setModeResult")},setBrightness:function(){var t={brightness:{brightness:Number(this.brightness)}};console.log(t),window.hilink.setDeviceInfo("0",h()(t),"light.setBrightnessResult")},setColor:function(){var t={colour:{red:Number(this.red),green:Number(this.green),blue:Number(this.blue)}};console.log(h()(t));try{window.hilink.setDeviceInfo("0",h()(t),"light.setColorResult")}catch(t){console.warn("下发颜色错误：",t.message)}},transColor:function(t){return"object"===(void 0===t?"undefined":c()(t))?"rgba("+t.join(",")+",1)":t.match(/\d+/g)},arrToColor:function(t){var i=Number(t[0]).toString(16);i=1==i.length?"0"+i:i;var e=Number(t[1]).toString(16);e=1==e.length?"0"+e:e;var s=Number(t[2]).toString(16);return"#"+i+e+(s=1==s.length?"0"+s:s)},setTitleStatus:function(){if(this.switchOn){this.titleStatus=this.modeList[this.mode];var t=this.titleStatus}else t="已关闭";window.hilink.modifyTitleStatus(t,"light.setTitleStatusResult")},changeTitleColor:function(t){if(this.switchOn)if(t)try{window.hilink.modifyTitleBar(!0,t,"light.titleBarColorResult")}catch(t){}else{if(this.mode)return;var i=this.transColor(this.color),e=this.arrToColor(i);try{window.hilink.modifyTitleBar(!0,e,"light.titleBarColorResult")}catch(t){}}else window.hilink.modifyTitleBar(!0,"#939EBC","light.titleBarColorResult")},alertError:function(t,i){0!==JSON.parse(t).errcode&&console.log(i+":"+t)}}},G={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"Light"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.switchOn,expression:"!switchOn"}],staticClass:"off"}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.switchOn,expression:"switchOn"}],staticClass:"container"},[e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.mode,expression:"mode === 0"}],staticClass:"user",style:{background:t.isColor?t.color:t.brightnessColor}},[e("Color-picker",{directives:[{name:"show",rawName:"v-show",value:t.isColor,expression:"isColor"}],staticStyle:{marginTop:"30px"},attrs:{width:276,color:t.color,"init-color":t.initColor,"is-render":t.isRender,"img-url":"./static/img/image_lamp_circular.png",callback:t.colorPickerCallback},on:{"update:color":function(i){t.color=i},"update:isRender":function(i){t.isRender=i}}}),t._v(" "),t.isColor?t._e():e("Cct-Picker",{staticStyle:{marginTop:"30px"},attrs:{cctArea:[6500,2e3],initCct:t.initCct,bgColor:t.brightnessColor,colorTemperature:t.cct},on:{"update:colorTemperature":function(i){t.cct=i},changeCct:t.changeCct}}),t._v(" "),e("Light-picker",{staticStyle:{marginTop:"15px"},attrs:{lightHeight:t.brightnessPercent},on:{"update:lightHeight":function(i){t.brightnessPercent=i},submitLight:t.submitLight}}),t._v(" "),e("div",{staticClass:"switchMode",on:{touchend:function(i){return i.stopPropagation(),t.switchMode(i)}}},[e("img",{attrs:{src:t.isColor?"./static/img/icon_lamp_temperature_nor.png":"./static/img/icon_lamp_color_nor.png"}}),t._v(" "),e("p",[t._v(t._s(t.isColor?"色温":"色彩"))])]),t._v(" "),e("p",{staticClass:"word"},[t._v("颜色与亮度调节")])],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.mode,expression:"mode !== 0"}],staticClass:"others",style:{background:"rgba("+t.colorList[t.mode]+",1)"}},[e("div",{staticClass:"modeImg",style:{backgroundImage:"url(./static/img/"+t.modeImgList[t.mode-1]+")"}}),t._v(" "),e("p",{staticClass:"modedesc"},[t._v(t._s(t.modeList[t.mode])+"模式")])])]),t._v(" "),e("Bottom-menu",{attrs:{bottomList:t.bottomList},on:{buttonsClick:t.buttonsClick}},[e("Select-list",{attrs:{slot:"slot1",selectList:t.modeList,isListShow:t.isModeShow},on:{chooseIndex:t.chooseMode},slot:"slot1"})],1)],1)},staticRenderFns:[]};var X=e("VU/8")(Y,G,!1,function(t){e("ANje")},"data-v-ce49522c",null).exports;s.a.use(r.a);var J=new r.a({routes:[{path:"/",name:"Light",component:X}]}),z=(e("t+Gu"),e("TCn+")),Q=e.n(z);s.a.config.productionTip=!1,Q.a.init({tool:["console","elements"]}),new s.a({el:"#app",router:J,template:"<App/>",components:{App:n}})},iycm:function(t,i){},mDVo:function(t,i){},"t+Gu":function(t,i){},"t+Y5":function(t,i){}},["NHnr"]);