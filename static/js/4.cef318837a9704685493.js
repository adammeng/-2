webpackJsonp([4],{"0jfi":function(t,i){},F9hM:function(t,i){},rUbY:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("Dd8w"),r=e.n(s),n=e("NYxO"),c=e("PhmW"),a={name:"circular",props:["circularDataList"],data:function(){return{timer:"",defaultPercent:0,width:this.circularDataList.size?this.circularDataList.size.width:300,height:this.circularDataList.size?this.circularDataList.size.height:300,radius:this.circularDataList.radius||130,lineWidth:this.circularDataList.lineWidth||20,lineCap:"round",circleAngle:2.25*Math.PI,startAngle:.75*Math.PI,percent:this.circularDataList.currentPercent||0,strokeStyle:this.circularDataList.strokeStyle||"rgba(0, 0, 0, .06)",fillColor:this.circularDataList.fillColor||{low:["#d4543d","#f78a4d"],middle:["#f5c44a","#e3773a"],high:["#52a1f7","#6885f6"]}}},mounted:function(){this.draw()},computed:{currentPercent:function(){return this.circularDataList.currentPercent},level:function(){return this.percent<=10?"low":this.percent>60?"high":"middle"}},updated:function(){this.draw()},methods:{toLink:function(){this.$emit("toLink")},draw:function(){var t=this,i=this.$refs.canvas,e=i.getContext("2d");i.width=3*this.width,i.height=3*this.height,e.clearRect(0,0,i.width,i.height),this.circle(e),0!==this.percent&&(this.timer=setInterval(function(){t.ring(e)},10))},circle:function(t){t.beginPath(),t.arc(3*this.width/2,3*this.height/2,3*this.radius,this.startAngle,this.circleAngle,!1),t.lineWidth=3*this.lineWidth,t.strokeStyle=this.strokeStyle,t.lineCap=this.lineCap,t.stroke()},ring:function(t){var i=document.getElementsByClassName("number")[this.circularDataList.index];this.defaultPercent>=this.percent?(this.defaultPercent=this.percent,clearInterval(this.timer)):this.defaultPercent+=1,i.innerText=this.defaultPercent,t.beginPath();var e=this.defaultPercent/100*(this.circleAngle-this.startAngle);t.arc(3*this.width/2,3*this.height/2,3*this.radius,this.startAngle,this.startAngle+e,!1),t.strokeStyle=this.circularDataList.fillColor||this.drawLinearGradient(t),t.lineCap=this.lineCap,t.stroke(),t.closePath()},drawLinearGradient:function(t){var i=void 0;return(i=this.percent<10?t.createLinearGradient(0,this.height/3*2,0,0):this.percent<60&&this.percent>10?t.createLinearGradient(0,0,0,this.height):t.createLinearGradient(this.width,0,0,0)).addColorStop(0,this.fillColor[this.level][0]),i.addColorStop(1,this.fillColor[this.level][1]),i}},watch:{currentPercent:function(t,i){t!==i&&(this.percent=this.circularDataList.currentPercent,this.draw())}}},h={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"circular"},[i("div",{staticClass:"canvas"},[i("canvas",{ref:"canvas",staticStyle:{width:"16rem",height:"16rem"},attrs:{id:"canvas"}}),this._v(" "),this._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"percent"},[i("div",[i("span",{staticClass:"number"},[this._v("0")]),this._v(" "),i("span",{staticStyle:{"font-size":"1.3rem"}},[this._v("%")])]),this._v(" "),i("div",{staticClass:"word"},[this._v("剩余")])])}]};var l=e("VU/8")(a,h,!1,function(t){e("F9hM")},"data-v-a1f23a0e",null).exports,o={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"confirm"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"title"},[t._t("default")],2),t._v(" "),e("div",{staticClass:"buttons"},[e("div",{staticClass:"cancel",on:{click:t.cancel}},[t._v(t._s(t.confirmList.cancelButton||"取消"))]),t._v(" "),e("div",{staticClass:"submit",on:{click:t.submit}},[t._v(t._s(t.confirmList.submitButton||"确定"))])])])])},staticRenderFns:[]};var d=e("VU/8")({name:"confirm",props:["confirmList"],data:function(){return{}},methods:{cancel:function(){this.$emit("cancel")},submit:function(){this.$emit("submit")}}},o,!1,function(t){e("vOnc")},"data-v-4ad0f6bd",null).exports,u={components:{SecondTitle:c.a,Circular:l,Confirm:d},mounted:function(){},data:function(){return{secondTitle:"滤芯滤网",isChecked:0,isConfirmShow:0,confirmList:{submitButton:"查看详情",cancelButton:"忽略"},confirmTextList:["设备名称的滤网需清洗。","设备名称的滤芯需更换。","设备名称的滤芯需更换且滤网需清洗。","您已更换滤芯，即将清空原有结果，重新开始统计滤芯消耗量。是否确定复位滤芯？"],confirmText:""}},methods:{back:function(){this.$router.go(-1)},changeChecked:function(){this.isChecked=!this.isChecked},showConfirm:function(){this.isChecked&&(this.confirmList={},this.confirmText=this.confirmTextList[3],this.isConfirmShow=1)},confirmCancel:function(){this.isConfirmShow=0,this.isChecked=0},confirmSubmit:function(){this.isConfirmShow=0,this.isChecked?(this.isChecked=0,this.$store.dispatch("resetFiltercore")):alert("跳转滤网滤芯清洗教程页面，暂缺")}},computed:r()({},Object(n.b)(["cleanerRobot"]),{filterNetData:function(){return{currentPercent:this.cleanerRobot.filternet,index:0}},filterCoreData:function(){return{currentPercent:this.cleanerRobot.filtercore,index:1}}})},f={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container"},[e("SecondTitle",{attrs:{title:t.secondTitle},on:{cancel:t.back}}),t._v(" "),e("div",{staticClass:"filter"},[e("div",{staticClass:"filterNet"},[e("p",{staticClass:"filterName"},[t._v("滤网")]),t._v(" "),e("Circular",{attrs:{circularDataList:t.filterNetData}}),t._v(" "),e("p",{staticClass:"tip"},[t._v("建议定期清理滤网，保证设备正常工作")])],1),t._v(" "),e("div",{staticClass:"division"}),t._v(" "),e("div",{staticClass:"filterCore"},[e("p",{staticClass:"filterName"},[t._v("滤芯")]),t._v(" "),e("Circular",{attrs:{circularDataList:t.filterCoreData}})],1),t._v(" "),e("div",{staticClass:"resetButton"},[e("p",{staticClass:"tip",style:{opacity:t.isChecked?1:.5}},[e("b",{class:["checkbox-icon",{isChecked:t.isChecked}],on:{click:function(i){return i.stopPropagation(),t.changeChecked(i)}}}),t._v("请确定您已更换滤芯，点击以下按钮将重新开始统计")]),t._v(" "),e("div",{class:["button",{isChecked:t.isChecked}],on:{click:t.showConfirm}},[t._v("复位滤芯")])])]),t._v(" "),t.isConfirmShow?e("Confirm",{attrs:{confirmList:t.confirmList},on:{cancel:t.confirmCancel,submit:t.confirmSubmit}},[t._v("\n    "+t._s(t.confirmText)+"\n  ")]):t._e()],1)},staticRenderFns:[]};var v=e("VU/8")(u,f,!1,function(t){e("0jfi")},"data-v-022316ea",null);i.default=v.exports},vOnc:function(t,i){}});
//# sourceMappingURL=4.cef318837a9704685493.js.map